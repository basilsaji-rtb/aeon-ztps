# this file was auto-generated by the aeon-ztps installation process

ddns-update-style none;
default-lease-time 7200;
max-lease-time 7200;
authoritative;
log-facility local7;


{% for host in dhcp_config.hosts -%}

host {{ host.name }} {
   hardware ethernet {{ host.macaddr }};
   fixed-address {{ host.ip_address }};
   option bootfile-name "tftp://{{ interfaces[dhcp_config.interface].address }}/rtbrick/{{ host.image }}";
   option default-url "http://{{ interfaces[dhcp_config.interface].address }}";
}

{% endfor -%}

{% set intf_config = dhcp_config.interface %}
{% set dhcp_intf_config = interfaces[intf_config] %}

subnet {{ dhcp_intf_config.network }} netmask {{ dhcp_intf_config.netmask }} {
   range {{ dhcp_intf_config.lease_start }} {{ dhcp_intf_config.lease_end }};
{% if dhcp_intf_config.gateway  %}
   option routers {{ dhcp_intf_config.gateway }};
{% endif %}
{% if dhcp_intf_config.dns_nameserver %}
   option domain-name-servers {{ dhcp_intf_config.dns_nameserver }};
{% endif %}
}
